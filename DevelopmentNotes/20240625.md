# Development Notes from 25th June 2024

- Fixed navigation by changing it from:
```javascript
    navigator.navigate('LocalLinkk - Sign Up');
```
to :
```javascript
    navigation.navigate('LocalLinkk - Sign Up', { screen: 'SignupPage' });
```

- added minimum password length
```javascript
    if (password.length < 5) {
        setErrorMessage('Password must be at least 5 characters long');
        return;
    }
````

- Added a new extension too `database_extensions.py` called close, it closes the data base if the users email already exits on sign up 
```python  
    def close(self):
        """Close the database connection"""
        logging.debug(f"close {self.databaseFileName}")
        conn = sqlite3.connect(self.databaseFileName)
        conn.close()
```
Signing up an new user:
```python
        # try's to add the new user
        try:
            db.execute(sql)
            access_token = create_access_token(identity=newUserID)
            logging.debug(f"User added - access_token: {access_token}")
            return {'access_token': access_token}, 201
        
        # if the email already exits it returns a message and closes the database
        except sqlite3.IntegrityError:
            logging.error(f"Email {data[userEmail]} already exists")
            db.close()
            return {'message': 'Email already exists'}, 400
```